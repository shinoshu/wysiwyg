function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{K8P1:function(n,e,t){"use strict";t.r(e);var a,i,r=t("ofXK"),o=t("3Pt+"),s=t("YUcS"),c=t("fXoL"),u=t("MuZe"),l=t.n(u);function d(n,e){}var h,f,g,y,p=((f=i=function(){function n(e,t){_classCallCheck(this,n),this.elementRef=e,this.ngZone=t,this.tagName="textarea",this.type="classic",this.ready=new c.n,this.dataReady=new c.n,this.change=new c.n,this.dataChange=new c.n,this.focus=new c.n,this.blur=new c.n,this._readOnly=null,this._data=null,this.editorUrl="https://cdn.ckeditor.com/4.14.0/standard-all/ckeditor.js"}return _createClass(n,[{key:"ngAfterViewInit",value:function(){var n=this;(function(n){if(n.length<1)throw new TypeError("CKEditor URL must be a non-empty string.");return"CKEDITOR"in window?Promise.resolve(CKEDITOR):(a||(a=new Promise((function(e,t){l()(n,(function(n){n?t(n):(e(CKEDITOR),a=void 0)}))}))),a)})(this.editorUrl).then((function(){n.ngZone.runOutsideAngular(n.createEditor.bind(n))})).catch(window.console.error)}},{key:"ngOnDestroy",value:function(){var n=this;this.ngZone.runOutsideAngular((function(){n.instance&&(n.instance.destroy(),n.instance=null)}))}},{key:"writeValue",value:function(n){this.data=n}},{key:"registerOnChange",value:function(n){this.onChange=n}},{key:"registerOnTouched",value:function(n){this.onTouched=n}},{key:"createEditor",value:function(){var n=this,e=document.createElement(this.tagName);this.elementRef.nativeElement.appendChild(e),"divarea"===this.type&&(this.config=this.ensureDivareaPlugin(this.config||{}));var t="inline"===this.type?CKEDITOR.inline(e,this.config):CKEDITOR.replace(e,this.config);t.once("instanceReady",(function(e){n.instance=t,n.readOnly=null!==n._readOnly?n._readOnly:n.instance.readOnly,n.subscribe(n.instance);var a=t.undoManager;null!==n.data?(a&&a.lock(),t.setData(n.data,{callback:function(){n.data!==t.getData()&&t.fire(a?"change":"dataReady"),a&&a.unlock(),n.ngZone.run((function(){n.ready.emit(e)}))}})):n.ngZone.run((function(){n.ready.emit(e)}))}))}},{key:"subscribe",value:function(n){var e=this;n.on("focus",(function(n){e.ngZone.run((function(){e.focus.emit(n)}))})),n.on("blur",(function(n){e.ngZone.run((function(){e.onTouched&&e.onTouched(),e.blur.emit(n)}))})),n.on("dataReady",this.propagateChange,this),n.on(this.instance.undoManager?"change":"selectionCheck",this.propagateChange,this)}},{key:"propagateChange",value:function(n){var e=this;this.ngZone.run((function(){var t=e.instance.getData();"change"==n.name?e.change.emit(n):"dataReady"==n.name&&e.dataReady.emit(n),t!==e.data&&(e._data=t,e.dataChange.emit(t),e.onChange&&e.onChange(t))}))}},{key:"ensureDivareaPlugin",value:function(n){var e=n.extraPlugins,t=n.removePlugins;return e=(e=this.removePlugin(e,"divarea")||"").concat("string"==typeof e?",divarea":"divarea"),t&&t.includes("divarea")&&(t=this.removePlugin(t,"divarea"),console.warn("[CKEDITOR] divarea plugin is required to initialize editor using Angular integration.")),Object.assign({},n,{extraPlugins:e,removePlugins:t})}},{key:"removePlugin",value:function(n,e){if(!n)return null;var t="string"==typeof n;return t&&(n=n.split(",")),n=n.filter((function(n){return n!==e})),t&&(n=n.join(",")),n}},{key:"data",set:function(n){if(n!==this._data)return this.instance?(this.instance.setData(n),void(this._data=this.instance.getData())):void(this._data=n)},get:function(){return this._data}},{key:"readOnly",set:function(n){this.instance?this.instance.setReadOnly(n):this._readOnly=n},get:function(){return this.instance?this.instance.readOnly:this._readOnly}}]),n}()).\u0275fac=function(n){return new(n||f)(c.Kb(c.l),c.Kb(c.z))},f.\u0275cmp=c.Eb({type:f,selectors:[["ckeditor"]],inputs:{tagName:"tagName",type:"type",editorUrl:"editorUrl",data:"data",readOnly:"readOnly",config:"config"},outputs:{ready:"ready",dataReady:"dataReady",change:"change",dataChange:"dataChange",focus:"focus",blur:"blur"},features:[c.zb([{provide:o.b,useExisting:Object(c.S)((function(){return i})),multi:!0}])],decls:1,vars:0,template:function(n,e){1&n&&c.ac(0,d,0,0,"ng-template")},encapsulation:2}),f),b=((h=function n(){_classCallCheck(this,n)}).\u0275mod=c.Ib({type:h}),h.\u0275inj=c.Hb({factory:function(n){return new(n||h)},imports:[[o.a,r.b]]}),h),v=t("tyNb"),m=t("XiUz"),C=[{path:"",component:(g=function(){function n(){_classCallCheck(this,n),this.data="<p>Hello, world!</p>"}return _createClass(n,[{key:"submit",value:function(){alert(this.data)}}]),n}(),g.\u0275fac=function(n){return new(n||g)},g.\u0275cmp=c.Eb({type:g,selectors:[["app-ckeditor4"]],decls:8,vars:1,consts:[["fxLayout","row","fxLayoutAlign","center"],[3,"ngModel","ngModelChange"],["fxFlex",""],[3,"click"]],template:function(n,e){1&n&&(c.Nb(0,"div",0),c.Nb(1,"p"),c.bc(2,"ckeditor4"),c.Mb(),c.Mb(),c.Nb(3,"ckeditor",1),c.Ub("ngModelChange",(function(n){return e.data=n})),c.Mb(),c.Nb(4,"p"),c.Lb(5,"span",2),c.Nb(6,"button",3),c.Ub("click",(function(){return e.submit()})),c.bc(7,"Submit"),c.Mb(),c.Mb()),2&n&&(c.Ab(3),c.Wb("ngModel",e.data))},directives:[m.c,m.b,p,o.c,o.d,m.a],styles:[""]}),g)}],k=((y=function n(){_classCallCheck(this,n)}).\u0275mod=c.Ib({type:y}),y.\u0275inj=c.Hb({factory:function(n){return new(n||y)},imports:[[v.a.forChild(C)],v.a]}),y);t.d(e,"Ckeditor4Module",(function(){return O}));var w,O=((w=function n(){_classCallCheck(this,n)}).\u0275mod=c.Ib({type:w}),w.\u0275inj=c.Hb({factory:function(n){return new(n||w)},imports:[[r.b,o.a,s.a,b,k]]}),w)},MuZe:function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function a(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n.exports=function(n,e,i){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"==typeof e&&(i=e,e={}),i=i||function(){},o.type=(e=e||{}).type||"text/javascript",o.charset=e.charset||"utf8",o.async=!("async"in e&&!e.async),o.src=n,e.attrs&&function(n,e){for(var t in e)n.setAttribute(t,e[t])}(o,e.attrs),e.text&&(o.text=""+e.text),("onload"in o?t:a)(o,i),o.onload||t(o,i),r.appendChild(o)}}}]);